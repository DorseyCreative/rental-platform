(()=>{var e={};e.id=3453,e.ids=[3453],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},93399:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},15590:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>i.a,__next_app__:()=>u,originalPathname:()=>h,pages:()=>d,routeModule:()=>p,tree:()=>c});var n=s(50482),a=s(69108),r=s(62563),i=s.n(r),o=s(68300),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);s.d(t,l);let c=["",{children:["driver",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,11730)),"/Users/macdaddy/heavy-equipment-rental/rental-platform/src/app/driver/page.tsx"]}]},{metadata:{icon:[],apple:[],openGraph:[],twitter:[],manifest:"/manifest.webmanifest"}}]},{layout:[()=>Promise.resolve().then(s.bind(s,73665)),"/Users/macdaddy/heavy-equipment-rental/rental-platform/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,69361,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[],apple:[],openGraph:[],twitter:[],manifest:"/manifest.webmanifest"}}],d=["/Users/macdaddy/heavy-equipment-rental/rental-platform/src/app/driver/page.tsx"],h="/driver/page",u={require:s,loadChunk:()=>Promise.resolve()},p=new n.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/driver/page",pathname:"/driver",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},41328:(e,t,s)=>{Promise.resolve().then(s.bind(s,71677))},45961:(e,t,s)=>{"use strict";s.d(t,{Z:()=>n});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,s(69224).Z)("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},64290:(e,t,s)=>{"use strict";s.d(t,{Z:()=>n});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,s(69224).Z)("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]])},25545:(e,t,s)=>{"use strict";s.d(t,{Z:()=>n});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,s(69224).Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},80508:(e,t,s)=>{"use strict";s.d(t,{Z:()=>n});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,s(69224).Z)("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},91917:(e,t,s)=>{"use strict";s.d(t,{Z:()=>n});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,s(69224).Z)("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]])},40626:(e,t,s)=>{"use strict";s.d(t,{Z:()=>n});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,s(69224).Z)("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]])},21541:(e,t,s)=>{"use strict";var n=s(40378);function a(){}function r(){}r.resetWarningCache=a,e.exports=function(){function e(e,t,s,a,r,i){if(i!==n){var o=Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw o.name="Invariant Violation",o}}function t(){return e}e.isRequired=e;var s={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:r,resetWarningCache:a};return s.PropTypes=s,s}},7470:(e,t,s)=>{e.exports=s(21541)()},40378:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},8345:function(e,t,s){var n,a,r,i;e.exports=(n=s(7470),a=s(3729),r=s(72318),i=s(86930),function(e){function t(n){if(s[n])return s[n].exports;var a=s[n]={exports:{},id:n,loaded:!1};return e[n].call(a.exports,a,a.exports,t),a.loaded=!0,a.exports}var s={};return t.m=e,t.c=s,t.p="",t(0)}([function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&("object"==typeof t||"function"==typeof t)?t:e}Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},i=function(){function e(e,t){for(var s=0;s<t.length;s++){var n=t[s];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,s,n){return s&&e(t.prototype,s),n&&e(t,n),t}}(),o=n(s(1)),l=s(2),c=n(l),d=n(s(3)),h=n(s(4)),u=function(e){function t(){var e,s,n;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,i=Array(r),o=0;o<r;o++)i[o]=arguments[o];return s=n=a(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n._sigPad=null,n._excludeOurProps=function(){var e=n.props;return e.canvasProps,e.clearOnResize,function(e,t){var s={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(s[n]=e[n]);return s}(e,["canvasProps","clearOnResize"])},n.getCanvas=function(){return n._canvas},n.getTrimmedCanvas=function(){var e=document.createElement("canvas");return e.width=n._canvas.width,e.height=n._canvas.height,e.getContext("2d").drawImage(n._canvas,0,0),(0,h.default)(e)},n.getSignaturePad=function(){return n._sigPad},n._checkClearOnResize=function(){n.props.clearOnResize&&n._resizeCanvas()},n._resizeCanvas=function(){var e=n.props.canvasProps||{},t=e.width,s=e.height;if(!t||!s){var a=n._canvas,r=Math.max(window.devicePixelRatio||1,1);t||(a.width=a.offsetWidth*r),s||(a.height=a.offsetHeight*r),a.getContext("2d").scale(r,r),n.clear()}},n.on=function(){return window.addEventListener("resize",n._checkClearOnResize),n._sigPad.on()},n.off=function(){return window.removeEventListener("resize",n._checkClearOnResize),n._sigPad.off()},n.clear=function(){return n._sigPad.clear()},n.isEmpty=function(){return n._sigPad.isEmpty()},n.fromDataURL=function(e,t){return n._sigPad.fromDataURL(e,t)},n.toDataURL=function(e,t){return n._sigPad.toDataURL(e,t)},n.fromData=function(e){return n._sigPad.fromData(e)},n.toData=function(){return n._sigPad.toData()},a(n,s)}return function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"componentDidMount",value:function(){this._sigPad=new d.default(this._canvas,this._excludeOurProps()),this._resizeCanvas(),this.on()}},{key:"componentWillUnmount",value:function(){this.off()}},{key:"componentDidUpdate",value:function(){Object.assign(this._sigPad,this._excludeOurProps())}},{key:"render",value:function(){var e=this,t=this.props.canvasProps;return c.default.createElement("canvas",r({ref:function(t){e._canvas=t}},t))}}]),t}(l.Component);u.propTypes={velocityFilterWeight:o.default.number,minWidth:o.default.number,maxWidth:o.default.number,minDistance:o.default.number,dotSize:o.default.oneOfType([o.default.number,o.default.func]),penColor:o.default.string,throttle:o.default.number,onEnd:o.default.func,onBegin:o.default.func,canvasProps:o.default.object,clearOnResize:o.default.bool},u.defaultProps={clearOnResize:!0},t.default=u},function(e,t){e.exports=n},function(e,t){e.exports=a},function(e,t){e.exports=r},function(e,t){e.exports=i}]))},86930:function(e){e.exports=function(e){function t(n){if(s[n])return s[n].exports;var a=s[n]={exports:{},id:n,loaded:!1};return e[n].call(a.exports,a,a.exports,t),a.loaded=!0,a.exports}var s={};return t.m=e,t.c=s,t.p="",t(0)}([function(e,t){"use strict";function s(e,t,s,n){return({red:n[4*(s*t+e)],green:n[4*(s*t+e)+1],blue:n[4*(s*t+e)+2],alpha:n[4*(s*t+e)+3]}).alpha}function n(e,t,n,a){for(var r=e?1:-1,i=e?0:n-1,o=i;e?o<n:o>-1;o+=r)for(var l=0;l<t;l++)if(s(l,o,t,a))return o;return null}function a(e,t,n,a){for(var r=e?1:-1,i=e?0:t-1,o=i;e?o<t:o>-1;o+=r)for(var l=0;l<n;l++)if(s(o,l,t,a))return o;return null}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.getContext("2d"),s=e.width,r=e.height,i=t.getImageData(0,0,s,r).data,o=n(!0,s,r,i),l=n(!1,s,r,i),c=a(!0,s,r,i),d=a(!1,s,r,i)-c+1,h=l-o+1,u=t.getImageData(c,o,d,h);return e.width=d,e.height=h,t.clearRect(0,0,d,h),t.putImageData(u,0,0),e}}])},71677:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>P});var n=s(95344),a=s(3729),r=s(5094),i=s(23673),o=s(19591),l=s(69224);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let c=(0,l.Z)("Route",[["circle",{cx:"6",cy:"19",r:"3",key:"1kj8tv"}],["path",{d:"M9 19h8.5a3.5 3.5 0 0 0 0-7h-11a3.5 3.5 0 0 1 0-7H15",key:"1d8sl"}],["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}]]),d=(0,l.Z)("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]);var h=s(80508),u=s(25545);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let p=(0,l.Z)("Fuel",[["line",{x1:"3",x2:"15",y1:"22",y2:"22",key:"xegly4"}],["line",{x1:"4",x2:"14",y1:"9",y2:"9",key:"xcnuvu"}],["path",{d:"M14 22V4a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v18",key:"16j0yd"}],["path",{d:"M14 13h2a2 2 0 0 1 2 2v2a2 2 0 0 0 2 2h0a2 2 0 0 0 2-2V9.83a2 2 0 0 0-.59-1.42L18 5",key:"8ur5zv"}]]);function m({stops:e,onRouteOptimized:t}){let s=(0,a.useRef)(null),[l,m]=(0,a.useState)(null),[x,f]=(0,a.useState)(null),[v,y]=(0,a.useState)(null),[g,_]=(0,a.useState)(),[w,j]=(0,a.useState)(!1),[b,N]=(0,a.useState)(!1);(0,a.useEffect)(()=>{if(window.google){N(!0);return}window.initGoogleMaps=()=>{N(!0)};let e=document.createElement("script");return e.src=`https://maps.googleapis.com/maps/api/js?key=${process.env.NEXT_PUBLIC_GOOGLE_MAPS_API_KEY}&libraries=geometry&callback=initGoogleMaps`,e.async=!0,document.head.appendChild(e),()=>{document.head.removeChild(e)}},[]),(0,a.useEffect)(()=>{if(b&&s.current&&!l){let e=new window.google.maps.Map(s.current,{zoom:10,center:{lat:44.2619,lng:-88.4154},mapTypeControl:!1,streetViewControl:!1,fullscreenControl:!1}),t=new window.google.maps.DirectionsService,n=new window.google.maps.DirectionsRenderer({suppressMarkers:!1,polylineOptions:{strokeColor:"#3B82F6",strokeWeight:4}});n.setMap(e),m(e),f(t),y(n)}},[b,l]);let P=async()=>{if(x&&v&&!(e.length<2)){j(!0);try{let s=new window.google.maps.Geocoder,n=await Promise.all(e.map(async e=>{try{let t=(await new Promise((t,n)=>{s.geocode({address:e.address},(e,s)=>{"OK"===s?t(e[0]):n(Error(`Geocoding failed: ${s}`))})})).geometry.location;return{...e,lat:t.lat(),lng:t.lng()}}catch(t){return console.error(`Failed to geocode ${e.address}:`,t),e}})),a=n[0],r=n[n.length-1],i=n.slice(1,-1).map(e=>({location:{lat:e.lat,lng:e.lng},stopover:!0})),o={origin:{lat:a.lat,lng:a.lng},destination:{lat:r.lat,lng:r.lng},waypoints:i,optimizeWaypoints:!0,travelMode:window.google.maps.TravelMode.DRIVING,unitSystem:window.google.maps.UnitSystem.IMPERIAL},l=await new Promise((e,t)=>{x.route(o,(s,n)=>{"OK"===n?e(s):t(Error(`Directions request failed: ${n}`))})});v.setDirections(l);let c=l.routes[0],d=0,h=0;c.legs.forEach(e=>{d+=e.distance.value,h+=e.duration.value});let u=(621371e-9*d).toFixed(1),p=Math.floor(h/3600),m=Math.floor(h%3600/60),f=(parseFloat(u)/8).toFixed(1);if(_({distance:`${u} mi`,duration:p>0?`${p}h ${m}m`:`${m}m`,fuel:`${f} gal`}),l.routes[0].waypoint_order&&t){let e=l.routes[0].waypoint_order,s=[n[0],...e.map(e=>n[e+1]),n[n.length-1]];t(s)}}catch(e){console.error("Route calculation failed:",e)}finally{j(!1)}}};return((0,a.useEffect)(()=>{e.length>=2&&b&&x&&P()},[e,b,x]),b)?(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsxs)(i.Zb,{children:[n.jsx(i.Ol,{children:(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsxs)(i.ll,{className:"flex items-center gap-2",children:[n.jsx(c,{className:"h-5 w-5"}),"Optimized Route"]}),(0,n.jsxs)(r.z,{onClick:()=>{let t=e.slice(1,-1).map(e=>encodeURIComponent(e.address)).join("|"),s=`https://www.google.com/maps/dir/${encodeURIComponent(e[0].address)}/${t}/${encodeURIComponent(e[e.length-1].address)}`;window.open(s,"_blank")},variant:"outline",size:"sm",className:"flex items-center gap-2",children:[n.jsx(d,{className:"h-4 w-4"}),"Open in Maps"]})]})}),n.jsx(i.aY,{children:n.jsx("div",{ref:s,className:"w-full h-64 rounded-lg border",style:{minHeight:"300px"}})})]}),g&&n.jsx(i.Zb,{children:n.jsx(i.aY,{className:"p-4",children:(0,n.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[n.jsx(h.Z,{className:"h-4 w-4 text-blue-600"}),(0,n.jsxs)("div",{children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Distance"}),n.jsx("p",{className:"font-semibold",children:g.distance})]})]}),(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[n.jsx(u.Z,{className:"h-4 w-4 text-green-600"}),(0,n.jsxs)("div",{children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Drive Time"}),n.jsx("p",{className:"font-semibold",children:g.duration})]})]}),(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[n.jsx(p,{className:"h-4 w-4 text-orange-600"}),(0,n.jsxs)("div",{children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Est. Fuel"}),n.jsx("p",{className:"font-semibold",children:g.fuel})]})]})]})})}),(0,n.jsxs)(i.Zb,{children:[n.jsx(i.Ol,{children:(0,n.jsxs)(i.ll,{children:["Route Stops (",e.length,")"]})}),(0,n.jsxs)(i.aY,{children:[n.jsx("div",{className:"space-y-3",children:e.map((e,t)=>(0,n.jsxs)("div",{className:"flex items-center gap-3 p-3 border rounded-lg",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx("div",{className:"w-8 h-8 bg-blue-600 text-white rounded-full flex items-center justify-center text-sm font-semibold",children:t+1})}),(0,n.jsxs)("div",{className:"flex-1",children:[(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[n.jsx("p",{className:"font-medium",children:e.customerName}),n.jsx(o.C,{variant:"delivery"===e.type?"default":"secondary",children:e.type})]}),n.jsx("p",{className:"text-sm text-gray-600",children:e.address}),(0,n.jsxs)("p",{className:"text-sm text-gray-500",children:[e.equipment," • ",e.timeWindow]})]})]},e.id))}),w&&n.jsx("div",{className:"mt-4 text-center",children:(0,n.jsxs)("div",{className:"inline-flex items-center gap-2",children:[n.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-600"}),n.jsx("span",{className:"text-sm text-gray-600",children:"Optimizing route..."})]})})]})]})]}):n.jsx(i.Zb,{children:n.jsx(i.aY,{className:"p-6",children:(0,n.jsxs)("div",{className:"flex items-center justify-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),n.jsx("span",{className:"ml-2",children:"Loading Maps..."})]})})})}/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let x=(0,l.Z)("FileSignature",[["path",{d:"M20 19.5v.5a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8.5L18 5.5",key:"kd5d3"}],["path",{d:"M8 18h1",key:"13wk12"}],["path",{d:"M18.42 9.61a2.1 2.1 0 1 1 2.97 2.97L16.95 17 13 18l.99-3.95 4.43-4.44Z",key:"johvi5"}]]);var f=s(40626),v=s(91917),y=s(45961);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let g=(0,l.Z)("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);var _=s(64290),w=s(16278),j=s(8345),b=s.n(j);let N=[{id:"D001",customer:"ABC Construction",address:"123 Industrial Way, Construction City, ST 12345",phone:"+1-555-123-4567",items:["CAT 320 Excavator","Safety Equipment"],timeWindow:"9:00 AM - 11:00 AM",status:"pending",type:"delivery"},{id:"P001",customer:"Smith Builders",address:"456 Building Ave, Builder Town, ST 67890",phone:"+1-555-987-6543",items:["JCB Loader"],timeWindow:"2:00 PM - 4:00 PM",status:"pending",type:"pickup",notes:"Check fuel level and inspect for damage"}];function P(){let[e,t]=(0,a.useState)(null),[s,l]=(0,a.useState)(!1),[p,j]=(0,a.useState)([]),[P,k]=(0,a.useState)("schedule"),C=(0,a.useRef)(null),M=N.map(e=>({id:e.id,address:e.address,customerName:e.customer,equipment:e.items.join(", "),type:e.type,timeWindow:e.timeWindow})),E=e=>{t(e)};return s?n.jsx("div",{className:"min-h-screen bg-gray-50 p-4",children:(0,n.jsxs)(i.Zb,{className:"max-w-md mx-auto",children:[(0,n.jsxs)(i.Ol,{children:[(0,n.jsxs)(i.ll,{className:"flex items-center gap-2",children:[n.jsx(x,{className:"h-5 w-5"}),"Customer Signature"]}),(0,n.jsxs)(i.SZ,{children:["Please have the customer sign below to confirm ",e?.type]})]}),(0,n.jsxs)(i.aY,{className:"space-y-4",children:[n.jsx("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4",children:n.jsx(b(),{ref:C,canvasProps:{width:300,height:200,className:"signature-canvas border rounded"}})}),(0,n.jsxs)("div",{className:"flex gap-2",children:[n.jsx(r.z,{variant:"outline",onClick:()=>C.current?.clear(),className:"flex-1",children:"Clear"}),n.jsx(r.z,{onClick:()=>{l(!1),t(null)},className:"flex-1",children:"Complete"})]})]})]})}):e?n.jsx("div",{className:"min-h-screen bg-gray-50 p-4",children:(0,n.jsxs)("div",{className:"max-w-md mx-auto space-y-4",children:[n.jsx(i.Zb,{children:(0,n.jsxs)(i.Ol,{children:[(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[n.jsx(i.ll,{className:"text-lg",children:e.customer}),n.jsx(o.C,{variant:"delivery"===e.type?"default":"secondary",children:e.type})]}),(0,n.jsxs)(i.SZ,{className:"flex items-center gap-2",children:[n.jsx(u.Z,{className:"h-4 w-4"}),e.timeWindow]})]})}),n.jsx(i.Zb,{children:n.jsx(i.aY,{className:"pt-6",children:(0,n.jsxs)("div",{className:"space-y-3",children:[(0,n.jsxs)("div",{className:"flex items-start gap-3",children:[n.jsx(h.Z,{className:"h-5 w-5 text-gray-500 mt-0.5"}),(0,n.jsxs)("div",{className:"flex-1",children:[n.jsx("p",{className:"font-medium",children:e.address}),(0,n.jsxs)("p",{className:"text-sm text-gray-600 flex items-center gap-1 mt-1",children:[n.jsx(f.Z,{className:"h-3 w-3"}),e.phone]})]})]}),(0,n.jsxs)(r.z,{className:"w-full",variant:"outline",children:[n.jsx(d,{className:"mr-2 h-4 w-4"}),"Open in Maps"]})]})})}),(0,n.jsxs)(i.Zb,{children:[n.jsx(i.Ol,{children:n.jsx(i.ll,{className:"text-base",children:"Equipment"})}),(0,n.jsxs)(i.aY,{children:[n.jsx("div",{className:"space-y-2",children:e.items.map((e,t)=>(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[n.jsx(v.Z,{className:"h-4 w-4 text-gray-500"}),n.jsx("span",{className:"text-sm",children:e})]},t))}),e.notes&&n.jsx("div",{className:"mt-3 p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:(0,n.jsxs)("p",{className:"text-sm text-yellow-800",children:[n.jsx(y.Z,{className:"h-4 w-4 inline mr-1"}),e.notes]})})]})]}),(0,n.jsxs)(i.Zb,{children:[n.jsx(i.Ol,{children:n.jsx(i.ll,{className:"text-base",children:"Documentation"})}),(0,n.jsxs)(i.aY,{className:"space-y-3",children:[(0,n.jsxs)(r.z,{variant:"outline",className:"w-full",onClick:()=>{j([...p,"/api/placeholder/400/300"])},children:[n.jsx(g,{className:"mr-2 h-4 w-4"}),"Take Photo"]}),p.length>0&&n.jsx("div",{className:"grid grid-cols-2 gap-2",children:p.map((e,t)=>n.jsx("div",{className:"aspect-square bg-gray-200 rounded-lg flex items-center justify-center",children:n.jsx(g,{className:"h-8 w-8 text-gray-400"})},t))})]})]}),(0,n.jsxs)("div",{className:"flex gap-2",children:[n.jsx(r.z,{variant:"outline",onClick:()=>t(null),className:"flex-1",children:"Back to Schedule"}),(0,n.jsxs)(r.z,{onClick:()=>{l(!0)},className:"flex-1",children:[n.jsx(_.Z,{className:"mr-2 h-4 w-4"}),"Complete"]})]})]})}):(0,n.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,n.jsxs)("header",{className:"bg-white border-b px-4 py-3",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsxs)("div",{children:[n.jsx("h1",{className:"text-xl font-bold",children:"Driver Dashboard"}),n.jsx("p",{className:"text-sm text-gray-600",children:"2 deliveries scheduled"})]}),(0,n.jsxs)("div",{className:"text-right",children:[n.jsx("p",{className:"text-sm font-medium",children:"John Driver"}),n.jsx("p",{className:"text-xs text-gray-500",children:"Truck #4"})]})]}),(0,n.jsxs)("div",{className:"flex border-t mt-3",children:[(0,n.jsxs)("button",{onClick:()=>k("schedule"),className:`flex-1 py-3 px-4 text-sm font-medium border-b-2 transition-colors ${"schedule"===P?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[n.jsx(v.Z,{className:"h-4 w-4 inline mr-1"}),"Schedule"]}),(0,n.jsxs)("button",{onClick:()=>k("route"),className:`flex-1 py-3 px-4 text-sm font-medium border-b-2 transition-colors ${"route"===P?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[n.jsx(c,{className:"h-4 w-4 inline mr-1"}),"Route"]})]})]}),(0,n.jsxs)("main",{className:"p-4 space-y-3",children:["schedule"===P&&n.jsx("div",{className:"space-y-3",children:N.map(e=>n.jsx(i.Zb,{className:"cursor-pointer hover:shadow-md transition-shadow",children:(0,n.jsxs)(i.aY,{className:"pt-4",children:[(0,n.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,n.jsxs)("div",{className:"flex-1",children:[(0,n.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx("h3",{className:"font-medium",children:e.customer}),n.jsx(o.C,{variant:"delivery"===e.type?"default":"secondary",children:e.type})]}),(0,n.jsxs)("p",{className:"text-sm text-gray-600 flex items-center gap-1",children:[n.jsx(u.Z,{className:"h-3 w-3"}),e.timeWindow]}),(0,n.jsxs)("p",{className:"text-sm text-gray-600 flex items-center gap-1 mt-1",children:[n.jsx(h.Z,{className:"h-3 w-3"}),e.address]})]}),(0,n.jsxs)("div",{className:"flex items-center gap-2",children:["pending"===e.status&&(0,n.jsxs)(r.z,{size:"sm",onClick:()=>E(e),children:[n.jsx(w.Z,{className:"mr-1 h-3 w-3"}),"Start"]}),"completed"===e.status&&n.jsx(_.Z,{className:"h-5 w-5 text-green-600"})]})]}),n.jsx("div",{className:"text-xs text-gray-500",children:e.items.join(" • ")}),e.notes&&(0,n.jsxs)("div",{className:"mt-2 p-2 bg-yellow-50 border border-yellow-200 rounded text-xs",children:[n.jsx(y.Z,{className:"h-3 w-3 inline mr-1"}),e.notes]})]})},e.id))}),"route"===P&&n.jsx(m,{stops:M,onRouteOptimized:e=>{console.log("Route optimized:",e)}})]}),n.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t p-4",children:(0,n.jsxs)("div",{className:"max-w-md mx-auto flex gap-2",children:[n.jsx(r.z,{variant:"outline",className:"flex-1",children:"Emergency Contact"}),n.jsx(r.z,{variant:"outline",className:"flex-1",children:"Report Issue"})]})})]})}},19591:(e,t,s)=>{"use strict";s.d(t,{C:()=>o});var n=s(95344);s(3729);var a=s(49247),r=s(11453);let i=(0,a.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function o({className:e,variant:t,...s}){return n.jsx("div",{className:(0,r.cn)(i({variant:t}),e),...s})}},23673:(e,t,s)=>{"use strict";s.d(t,{Ol:()=>o,SZ:()=>c,Zb:()=>i,aY:()=>d,ll:()=>l});var n=s(95344),a=s(3729),r=s(11453);let i=a.forwardRef(({className:e,...t},s)=>n.jsx("div",{ref:s,className:(0,r.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));i.displayName="Card";let o=a.forwardRef(({className:e,...t},s)=>n.jsx("div",{ref:s,className:(0,r.cn)("flex flex-col space-y-1.5 p-6",e),...t}));o.displayName="CardHeader";let l=a.forwardRef(({className:e,...t},s)=>n.jsx("h3",{ref:s,className:(0,r.cn)("text-2xl font-semibold leading-none tracking-tight",e),...t}));l.displayName="CardTitle";let c=a.forwardRef(({className:e,...t},s)=>n.jsx("p",{ref:s,className:(0,r.cn)("text-sm text-muted-foreground",e),...t}));c.displayName="CardDescription";let d=a.forwardRef(({className:e,...t},s)=>n.jsx("div",{ref:s,className:(0,r.cn)("p-6 pt-0",e),...t}));d.displayName="CardContent",a.forwardRef(({className:e,...t},s)=>n.jsx("div",{ref:s,className:(0,r.cn)("flex items-center p-6 pt-0",e),...t})).displayName="CardFooter"},11730:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>r,__esModule:()=>a,default:()=>i});let n=(0,s(86843).createProxy)(String.raw`/Users/macdaddy/heavy-equipment-rental/rental-platform/src/app/driver/page.tsx`),{__esModule:a,$$typeof:r}=n,i=n.default},72318:(e,t,s)=>{"use strict";/*!
 * Signature Pad v2.3.2
 * https://github.com/szimek/signature_pad
 *
 * Copyright 2017 Szymon Nowak
 * Released under the MIT license
 *
 * The main idea and some parts of the code (e.g. drawing variable width Bézier curve) are taken from:
 * http://corner.squareup.com/2012/07/smoother-signatures.html
 *
 * Implementation of interpolation using cubic Bézier curves is taken from:
 * http://benknowscode.wordpress.com/2012/09/14/path-interpolation-using-cubic-bezier-and-control-point-estimation-in-javascript
 *
 * Algorithm for approximated length of a Bézier curve is taken from:
 * http://www.lemoda.net/maths/bezier-length/index.html
 *
 */function n(e,t,s){this.x=e,this.y=t,this.time=s||new Date().getTime()}function a(e,t,s,n){this.startPoint=e,this.control1=t,this.control2=s,this.endPoint=n}function r(e,t){var s,n,a,i,o,l,c,d,h,u=this,p=t||{};(this.velocityFilterWeight=p.velocityFilterWeight||.7,this.minWidth=p.minWidth||.5,this.maxWidth=p.maxWidth||2.5,this.throttle="throttle"in p?p.throttle:16,this.minDistance="minDistance"in p?p.minDistance:5,this.throttle)?this._strokeMoveUpdate=(s=r.prototype._strokeUpdate,n=this.throttle,c=null,d=0,a||(a={}),h=function(){d=!1===a.leading?0:Date.now(),c=null,l=s.apply(i,o),c||(i=o=null)},function(){var e=Date.now();d||!1!==a.leading||(d=e);var t=n-(e-d);return i=this,o=arguments,t<=0||t>n?(c&&(clearTimeout(c),c=null),d=e,l=s.apply(i,o),c||(i=o=null)):c||!1===a.trailing||(c=setTimeout(h,t)),l}):this._strokeMoveUpdate=r.prototype._strokeUpdate,this.dotSize=p.dotSize||function(){return(this.minWidth+this.maxWidth)/2},this.penColor=p.penColor||"black",this.backgroundColor=p.backgroundColor||"rgba(0,0,0,0)",this.onBegin=p.onBegin,this.onEnd=p.onEnd,this._canvas=e,this._ctx=e.getContext("2d"),this.clear(),this._handleMouseDown=function(e){1===e.which&&(u._mouseButtonDown=!0,u._strokeBegin(e))},this._handleMouseMove=function(e){u._mouseButtonDown&&u._strokeMoveUpdate(e)},this._handleMouseUp=function(e){1===e.which&&u._mouseButtonDown&&(u._mouseButtonDown=!1,u._strokeEnd(e))},this._handleTouchStart=function(e){if(1===e.targetTouches.length){var t=e.changedTouches[0];u._strokeBegin(t)}},this._handleTouchMove=function(e){e.preventDefault();var t=e.targetTouches[0];u._strokeMoveUpdate(t)},this._handleTouchEnd=function(e){e.target===u._canvas&&(e.preventDefault(),u._strokeEnd(e))},this.on()}s.r(t),s.d(t,{default:()=>i}),n.prototype.velocityFrom=function(e){return this.time!==e.time?this.distanceTo(e)/(this.time-e.time):1},n.prototype.distanceTo=function(e){return Math.sqrt(Math.pow(this.x-e.x,2)+Math.pow(this.y-e.y,2))},n.prototype.equals=function(e){return this.x===e.x&&this.y===e.y&&this.time===e.time},a.prototype.length=function(){for(var e=0,t=void 0,s=void 0,n=0;n<=10;n+=1){var a=n/10,r=this._point(a,this.startPoint.x,this.control1.x,this.control2.x,this.endPoint.x),i=this._point(a,this.startPoint.y,this.control1.y,this.control2.y,this.endPoint.y);if(n>0){var o=r-t,l=i-s;e+=Math.sqrt(o*o+l*l)}t=r,s=i}return e},a.prototype._point=function(e,t,s,n,a){return t*(1-e)*(1-e)*(1-e)+3*s*(1-e)*(1-e)*e+3*n*(1-e)*e*e+a*e*e*e},r.prototype.clear=function(){var e=this._ctx,t=this._canvas;e.fillStyle=this.backgroundColor,e.clearRect(0,0,t.width,t.height),e.fillRect(0,0,t.width,t.height),this._data=[],this._reset(),this._isEmpty=!0},r.prototype.fromDataURL=function(e){var t=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=new Image,a=s.ratio||window.devicePixelRatio||1,r=s.width||this._canvas.width/a,i=s.height||this._canvas.height/a;this._reset(),n.src=e,n.onload=function(){t._ctx.drawImage(n,0,0,r,i)},this._isEmpty=!1},r.prototype.toDataURL=function(e){var t;if("image/svg+xml"===e)return this._toSVG();for(var s=arguments.length,n=Array(s>1?s-1:0),a=1;a<s;a++)n[a-1]=arguments[a];return(t=this._canvas).toDataURL.apply(t,[e].concat(n))},r.prototype.on=function(){this._handleMouseEvents(),this._handleTouchEvents()},r.prototype.off=function(){this._canvas.removeEventListener("mousedown",this._handleMouseDown),this._canvas.removeEventListener("mousemove",this._handleMouseMove),document.removeEventListener("mouseup",this._handleMouseUp),this._canvas.removeEventListener("touchstart",this._handleTouchStart),this._canvas.removeEventListener("touchmove",this._handleTouchMove),this._canvas.removeEventListener("touchend",this._handleTouchEnd)},r.prototype.isEmpty=function(){return this._isEmpty},r.prototype._strokeBegin=function(e){this._data.push([]),this._reset(),this._strokeUpdate(e),"function"==typeof this.onBegin&&this.onBegin(e)},r.prototype._strokeUpdate=function(e){var t=e.clientX,s=e.clientY,n=this._createPoint(t,s),a=this._data[this._data.length-1],r=a&&a[a.length-1],i=r&&n.distanceTo(r)<this.minDistance;if(!(r&&i)){var o=this._addPoint(n),l=o.curve,c=o.widths;l&&c&&this._drawCurve(l,c.start,c.end),this._data[this._data.length-1].push({x:n.x,y:n.y,time:n.time,color:this.penColor})}},r.prototype._strokeEnd=function(e){var t=this.points.length>2,s=this.points[0];if(!t&&s&&this._drawDot(s),s){var n=this._data[this._data.length-1],a=n[n.length-1];s.equals(a)||n.push({x:s.x,y:s.y,time:s.time,color:this.penColor})}"function"==typeof this.onEnd&&this.onEnd(e)},r.prototype._handleMouseEvents=function(){this._mouseButtonDown=!1,this._canvas.addEventListener("mousedown",this._handleMouseDown),this._canvas.addEventListener("mousemove",this._handleMouseMove),document.addEventListener("mouseup",this._handleMouseUp)},r.prototype._handleTouchEvents=function(){this._canvas.style.msTouchAction="none",this._canvas.style.touchAction="none",this._canvas.addEventListener("touchstart",this._handleTouchStart),this._canvas.addEventListener("touchmove",this._handleTouchMove),this._canvas.addEventListener("touchend",this._handleTouchEnd)},r.prototype._reset=function(){this.points=[],this._lastVelocity=0,this._lastWidth=(this.minWidth+this.maxWidth)/2,this._ctx.fillStyle=this.penColor},r.prototype._createPoint=function(e,t,s){var a=this._canvas.getBoundingClientRect();return new n(e-a.left,t-a.top,s||new Date().getTime())},r.prototype._addPoint=function(e){var t=this.points;if(t.push(e),t.length>2){3===t.length&&t.unshift(t[0]);var s=this._calculateCurveControlPoints(t[0],t[1],t[2]).c2,n=this._calculateCurveControlPoints(t[1],t[2],t[3]).c1,r=new a(t[1],s,n,t[2]),i=this._calculateCurveWidths(r);return t.shift(),{curve:r,widths:i}}return{}},r.prototype._calculateCurveControlPoints=function(e,t,s){var a=e.x-t.x,r=e.y-t.y,i=t.x-s.x,o=t.y-s.y,l={x:(e.x+t.x)/2,y:(e.y+t.y)/2},c={x:(t.x+s.x)/2,y:(t.y+s.y)/2},d=Math.sqrt(i*i+o*o),h=l.x-c.x,u=l.y-c.y,p=d/(Math.sqrt(a*a+r*r)+d),m={x:c.x+h*p,y:c.y+u*p},x=t.x-m.x,f=t.y-m.y;return{c1:new n(l.x+x,l.y+f),c2:new n(c.x+x,c.y+f)}},r.prototype._calculateCurveWidths=function(e){var t=e.startPoint,s=e.endPoint,n={start:null,end:null},a=this.velocityFilterWeight*s.velocityFrom(t)+(1-this.velocityFilterWeight)*this._lastVelocity,r=this._strokeWidth(a);return n.start=this._lastWidth,n.end=r,this._lastVelocity=a,this._lastWidth=r,n},r.prototype._strokeWidth=function(e){return Math.max(this.maxWidth/(e+1),this.minWidth)},r.prototype._drawPoint=function(e,t,s){var n=this._ctx;n.moveTo(e,t),n.arc(e,t,s,0,2*Math.PI,!1),this._isEmpty=!1},r.prototype._drawCurve=function(e,t,s){var n=this._ctx,a=s-t,r=Math.floor(e.length());n.beginPath();for(var i=0;i<r;i+=1){var o=i/r,l=o*o,c=l*o,d=1-o,h=d*d,u=h*d,p=u*e.startPoint.x;p+=3*h*o*e.control1.x+3*d*l*e.control2.x+c*e.endPoint.x;var m=u*e.startPoint.y;m+=3*h*o*e.control1.y+3*d*l*e.control2.y+c*e.endPoint.y;var x=t+c*a;this._drawPoint(p,m,x)}n.closePath(),n.fill()},r.prototype._drawDot=function(e){var t=this._ctx,s="function"==typeof this.dotSize?this.dotSize():this.dotSize;t.beginPath(),this._drawPoint(e.x,e.y,s),t.closePath(),t.fill()},r.prototype._fromData=function(e,t,s){for(var a=0;a<e.length;a+=1){var r=e[a];if(r.length>1)for(var i=0;i<r.length;i+=1){var o=r[i],l=new n(o.x,o.y,o.time),c=o.color;if(0===i)this.penColor=c,this._reset(),this._addPoint(l);else if(i!==r.length-1){var d=this._addPoint(l),h=d.curve,u=d.widths;h&&u&&t(h,u,c)}}else this._reset(),s(r[0])}},r.prototype._toSVG=function(){var e=this,t=this._data,s=this._canvas,n=Math.max(window.devicePixelRatio||1,1),a=s.width/n,r=s.height/n,i=document.createElementNS("http://www.w3.org/2000/svg","svg");i.setAttributeNS(null,"width",s.width),i.setAttributeNS(null,"height",s.height),this._fromData(t,function(e,t,s){var n=document.createElement("path");if(!isNaN(e.control1.x)&&!isNaN(e.control1.y)&&!isNaN(e.control2.x)&&!isNaN(e.control2.y)){var a="M "+e.startPoint.x.toFixed(3)+","+e.startPoint.y.toFixed(3)+" "+("C "+e.control1.x.toFixed(3))+","+e.control1.y.toFixed(3)+" "+e.control2.x.toFixed(3)+","+e.control2.y.toFixed(3)+" "+e.endPoint.x.toFixed(3)+","+e.endPoint.y.toFixed(3);n.setAttribute("d",a),n.setAttribute("stroke-width",(2.25*t.end).toFixed(3)),n.setAttribute("stroke",s),n.setAttribute("fill","none"),n.setAttribute("stroke-linecap","round"),i.appendChild(n)}},function(t){var s=document.createElement("circle"),n="function"==typeof e.dotSize?e.dotSize():e.dotSize;s.setAttribute("r",n),s.setAttribute("cx",t.x),s.setAttribute("cy",t.y),s.setAttribute("fill",t.color),i.appendChild(s)});var o=i.innerHTML;if(void 0===o){var l=document.createElement("dummy"),c=i.childNodes;l.innerHTML="";for(var d=0;d<c.length;d+=1)l.appendChild(c[d].cloneNode(!0));o=l.innerHTML}return"data:image/svg+xml;base64,"+btoa('<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 '+a+" "+r+'" width="'+a+'" height="'+r+'">'+o+"</svg>")},r.prototype.fromData=function(e){var t=this;this.clear(),this._fromData(e,function(e,s){return t._drawCurve(e,s.start,s.end)},function(e){return t._drawDot(e)}),this._data=e},r.prototype.toData=function(){return this._data};let i=r}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),n=t.X(0,[1638,3940,1042],()=>s(15590));module.exports=n})();